<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HTORI ERP</title>

<style>
/* ===== 기본 ===== */
body {
  margin: 0;
  font-family: Arial, Helvetica, sans-serif;
}
/* ===== Stock 글자 크기 완전 통일 ===== */
#content,
#content * {
  font-family: Arial, Helvetica, sans-serif;
  font-size: 14px;
  box-sizing: border-box;
}

/* 테이블 헤더 bold 제거 */
#content th {
  font-weight: normal;
}

/* ===== 로그인 ===== */
#loginBox {
  width: 320px;
  margin: 120px auto;
  text-align: center;
}

#loginBox h2 {
  font-size: 22px;
  margin-bottom: 12px;
}

#loginBox input {
  width: 100%;
  font-size: 14px;
  padding: 6px;
  margin-bottom: 6px;
}

#loginBox button {
  font-size: 14px;
  padding: 6px 12px;
}

/* ===== ERP 레이아웃 ===== */
#erp {
  display: none;       /* ★ 중요 */
  height: 100vh;
}

#sidebar {
  width: 200px;
  background: #222;
  color: #fff;
}

#sidebar div {
  padding: 12px;
  cursor: pointer;
  font-size: 14px;
}

#sidebar div:hover {
  background: #444;
}

#content {
  flex: 1;
  padding: 20px;
}

/* ===== Stock ===== */
#content h2 {
  font-size: 22px;
  margin-bottom: 12px;
}

#content input,
#content button {
  font-size: 14px;
  padding: 4px 6px;
}

table {
  width: 100%;
  border-collapse: collapse;
  font-size: 14px;
  margin-top: 10px;
}

th, td {
  border: 1px solid #ccc;
  padding: 6px;
}
</style>
</head>

<body>

<!-- ===== LOGIN ===== -->
<div id="loginBox">
  <h2>HTORI ERP LOGIN</h2>
  <input id="loginId" placeholder="admin">
  <input id="loginPw" type="password" placeholder="1234">
  <button onclick="login()">Login</button>
</div>

<!-- ===== ERP ===== -->
<div id="erp">
  <div style="display:flex;height:100%">
    <div id="sidebar">
      <div onclick="loadPage('dashboard')">Dashboard</div>
      <div onclick="loadPage('stock')">Stock</div>
      <div onclick="loadPage('purchase')">Purchase</div>
      <div onclick="logout()">Logout</div>
    </div>
    <div id="content"></div>
  </div>
</div>

<script>
/* ===== 데이터 ===== */
let stockData = [];

/* ===== 로그인 ===== */
function logout() {
  localStorage.removeItem("htori_login");      // ★ 추가
  document.getElementById("erp").style.display = "none";
  document.getElementById("loginBox").style.display = "block";
}


function logout() {
  document.getElementById("erp").style.display = "none";
  document.getElementById("loginBox").style.display = "block";
}

/* ===== 페이지 ===== */
function loadPage(page) {
  const content = document.getElementById("content");

  if (page === "dashboard") {
    content.innerHTML = `
      <h2>Dashboard</h2>
      <p>Welcome to HTORI ERP</p>
    `;
  }

  if (page === "stock") {
    content.innerHTML = `
      <h2>Stock</h2>

      <input id="sCode" placeholder="Code">
      <input id="sName" placeholder="Name">
      <input id="sQty" type="number" placeholder="Qty">
      <button onclick="addStock()">Add</button>

      <table>
        <thead>
          <tr>
            <th>Code</th>
            <th>Name</th>
            <th>Qty</th>
          </tr>
        </thead>
        <tbody id="stockBody"></tbody>
      </table>
    `;
    renderStock();
  }

  if (page === "purchase") {
    content.innerHTML = `<h2>Purchase</h2>`;
  }
}

/* ===== Stock ===== */
function addStock() {
  const code = document.getElementById("sCode").value;
  const name = document.getElementById("sName").value;
  const qty = Number(document.getElementById("sQty").value);

  if (!code || !name || !qty) {
    alert("Fill all fields");
    return;
  }

  stockData.push({ code, name, qty });
  renderStock();

  document.getElementById("sCode").value = "";
  document.getElementById("sName").value = "";
  document.getElementById("sQty").value = "";
}

function renderStock() {
  const body = document.getElementById("stockBody");
  if (!body) return;

  body.innerHTML = "";
  stockData.forEach(item => {
    body.innerHTML += `
      <tr>
        <td>${item.code}</td>
        <td>${item.name}</td>
        <td>${item.qty}</td>
      </tr>
    `;
  });
}
</script>
// ===== 새로고침 시 로그인 유지 =====
window.onload = function () {
  if (localStorage.getItem("htori_login") === "Y") {
    document.getElementById("loginBox").style.display = "none";
    document.getElementById("erp").style.display = "block";
    loadPage("dashboard");
  }
};

</body>
</html>
